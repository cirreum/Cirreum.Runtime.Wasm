@page "/profile-card-debug"

<PageTitle>Profile Card Debug</PageTitle>

<div class="container mt-4">
    <h3>Profile Card Debug</h3>
    
    <div class="row g-4 mt-2">
        <div class="col-lg-6">
            <h5>Test 1: Simple Color Background</h5>
            <div class="test-profile-pic" style="--test-bg: red;">
                Should be red
            </div>
        </div>
        
        <div class="col-lg-6">
            <h5>Test 2: Direct Background Image</h5>
            <div class="test-profile-pic-direct">
                Direct SVG
            </div>
        </div>
    </div>
    
    <div class="row g-4 mt-2">
        <div class="col-lg-6">
            <h5>Test 3: CSS Variable with Simple URL</h5>
            <div class="test-profile-pic" style="--test-bg: url('https://via.placeholder.com/150');">
                URL via CSS var
            </div>
        </div>
        
        <div class="col-lg-6">
            <h5>Test 4: Actual Profile Card</h5>
            <div class="dropdown-menu show position-static">
                <UserProfileCard 
                    Name="Test User"
                    Email="test@example.com"
                    ProfilePicUrl="@TestAvatar" />
            </div>
        </div>
    </div>
</div>

<style>
    .test-profile-pic {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        background: var(--test-bg);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 12px;
        text-align: center;
    }
    
    .test-profile-pic-direct {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='150' height='150'%3E%3Crect width='150' height='150' fill='%234A90E2'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' fill='white' font-family='Arial' font-size='60'%3ETD%3C/text%3E%3C/svg%3E");
        background-size: cover;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 12px;
    }
</style>

@code {
    // Simple SVG data URL
    private const string TestAvatar = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='150' height='150'%3E%3Crect width='150' height='150' fill='%23FF0000'/%3E%3C/svg%3E";
}